(()=>{var e={};e.id=647,e.ids=[647],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},91313:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>f,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>M});var a={};t.r(a),t.d(a,{DELETE:()=>l,GET:()=>p,POST:()=>u});var o=t(42706),s=t(28203),n=t(45994),i=t(39187),d=t(84908);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("type"),a=r.get("period"),o=await d.A.report.findMany({where:{...t&&{type:t},...a&&{period:a}},include:{createdBy:{select:{firstName:!0,lastName:!0}}},orderBy:{createdAt:"desc"}});return i.NextResponse.json(o)}catch(e){return console.error("Error fetching reports:",e),i.NextResponse.json({error:"Failed to fetch reports"},{status:500})}}async function u(e){try{let r;let t=await e.json();switch(t.type){case"ENROLLMENT_SUMMARY":r={totalStudents:Math.floor(1e3*Math.random())+500,byDepartment:{"Computer Science":Math.floor(200*Math.random())+100,Mathematics:Math.floor(150*Math.random())+80,Physics:Math.floor(100*Math.random())+50,Biology:Math.floor(120*Math.random())+60,Chemistry:Math.floor(110*Math.random())+70},trends:{previousYear:Math.floor(900*Math.random())+400,currentYear:Math.floor(1e3*Math.random())+500,percentageChange:(20*Math.random()-10).toFixed(1)}};break;case"ACADEMIC_PERFORMANCE":r={averageGPA:(1*Math.random()+3).toFixed(2),performanceBands:{A:Math.floor(30*Math.random())+10,B:Math.floor(40*Math.random())+20,C:Math.floor(30*Math.random())+15,D:Math.floor(20*Math.random())+5,F:Math.floor(10*Math.random())+1},courseSuccess:{passRate:Math.floor(20*Math.random()+80),failRate:Math.floor(20*Math.random())}};break;default:r={}}let a=await d.A.report.create({data:{title:t.title,type:t.type,period:t.period,data:r,userId:t.userId,status:"GENERATED"},include:{createdBy:{select:{firstName:!0,lastName:!0}}}});return i.NextResponse.json(a,{status:201})}catch(e){return console.error("Error creating report:",e),i.NextResponse.json({error:"Failed to create report"},{status:500})}}async function l(e){try{let{searchParams:r}=new URL(e.url),t=r.get("id");if(!t)return i.NextResponse.json({error:"Report ID is required"},{status:400});return await d.A.report.delete({where:{id:t}}),new i.NextResponse(null,{status:204})}catch(e){return console.error("Error deleting report:",e),i.NextResponse.json({error:"Failed to delete report"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/reports/route",pathname:"/api/reports",filename:"route",bundlePath:"app/api/reports/route"},resolvedPagePath:"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\api\\reports\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:h,workUnitAsyncStorage:M,serverHooks:m}=c;function f(){return(0,n.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:M})}},96487:()=>{},78335:()=>{},84908:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(96330);let o=global.prisma||new a.PrismaClient({log:["query","error","warn"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,452],()=>t(91313));module.exports=a})();