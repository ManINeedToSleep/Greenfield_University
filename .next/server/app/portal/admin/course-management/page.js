(()=>{var e={};e.id=669,e.ids=[669],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},85916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),l=r(25155),n=r.n(l),i=r(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["portal",{children:["admin",{children:["course-management",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32214)),"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\course-management\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,23482)),"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\course-management\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/portal/admin/course-management/page",pathname:"/portal/admin/course-management",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67077:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,59607,23))},60997:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,28531,23))},58026:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},97778:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},40113:(e,t,r)=>{Promise.resolve().then(r.bind(r,32214))},5265:(e,t,r)=>{Promise.resolve().then(r.bind(r,81610))},81610:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(45512),a=r(58009),l=r.n(a),n=r(44098),i=r(89295);function o({isOpen:e,onClose:t,onSubmit:r,initialData:l,mode:i}){let[o,d]=(0,a.useState)({code:"",name:"",description:"",instructorId:""}),[c,m]=(0,a.useState)([]);return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md p-6 relative",children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,s.jsx)(n.QCr,{})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"create"===i?"Create New Course":"Edit Course"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(o)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-800",children:"Course Code"}),(0,s.jsx)("input",{type:"text",required:!0,value:o.code,onChange:e=>d(t=>({...t,code:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-emerald-500 focus:ring-emerald-500 text-slate-800",placeholder:"e.g., CS101"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-800",children:"Course Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:o.name,onChange:e=>d(t=>({...t,name:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-emerald-500 focus:ring-emerald-500 text-slate-800",placeholder:"e.g., Introduction to Computer Science"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-800",children:"Description"}),(0,s.jsx)("textarea",{value:o.description,onChange:e=>d(t=>({...t,description:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-emerald-500 focus:ring-emerald-500 text-slate-800",rows:3,placeholder:"Course description..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-800",children:"Instructor"}),(0,s.jsxs)("select",{required:!0,value:o.instructorId,onChange:e=>d(t=>({...t,instructorId:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-emerald-500 focus:ring-emerald-500 text-slate-800",children:[(0,s.jsx)("option",{value:"",children:"Select an instructor"}),c.map(e=>(0,s.jsx)("option",{value:e.id,children:`${e.firstName} ${e.lastName}`},e.id))]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:"create"===i?"Create Course":"Save Changes"})]})]})]})}):null}function d(){let[e,t]=(0,a.useState)([]),[r,d]=(0,a.useState)([]),[c,m]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[g,v]=(0,a.useState)({search:"",instructor:""});l().useCallback(()=>{let t=[...e];if(g.instructor&&(t=t.filter(e=>e.instructorId===g.instructor)),g.search){let e=g.search.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.code.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||`${t.instructor.firstName} ${t.instructor.lastName}`.toLowerCase().includes(e))}d(t)},[e,g]);let j=e=>{b(e),p(!0)},y=async r=>{if(confirm("Are you sure you want to delete this course?"))try{if((await fetch(`/api/courses?id=${r}`,{method:"DELETE"})).ok)t(e.filter(e=>e.id!==r));else throw Error("Failed to delete course")}catch(e){console.error("Error deleting course:",e),alert("Failed to delete course")}},N=async r=>{try{let s=await fetch("/api/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await s.json();if(!s.ok){alert(a.error||"Failed to create course");return}t([...e,a]),x(!1)}catch(e){console.error("Error creating course:",e),alert("Failed to create course")}},w=async r=>{if(f)try{let s=await fetch("/api/courses",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,id:f.id})});if(!s.ok)throw Error("Failed to update course");let a=await s.json();t(e.map(e=>e.id===f.id?a:e)),p(!1),b(null)}catch(e){console.error("Error updating course:",e),alert("Failed to update course")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-emerald-50",children:[(0,s.jsx)(i.A,{title:"Course Management",role:"ADMIN",userName:"Admin User",currentPath:"/portal/admin/course-management"}),(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,s.jsx)("input",{type:"text",placeholder:"Search courses...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-slate-800 placeholder-slate-400",value:g.search,onChange:e=>v(t=>({...t,search:e.target.value}))})}),(0,s.jsxs)("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(n.OiG,{}),"Create Course"]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c?(0,s.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading courses..."}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-emerald-600",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Code"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Description"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Instructor"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:e.code}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 text-slate-800",children:e.description||"No description"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:`${e.instructor.firstName} ${e.instructor.lastName}`}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900",children:(0,s.jsx)(n.uO9,{})}),(0,s.jsx)("button",{onClick:()=>y(e.id),className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(n.qbC,{})})]})})]},e.id))})]})})})]}),(0,s.jsx)(o,{isOpen:u,onClose:()=>x(!1),onSubmit:N,mode:"create"}),(0,s.jsx)(o,{isOpen:h,onClose:()=>{p(!1),b(null)},onSubmit:w,initialData:f||void 0,mode:"edit"})]})}},89295:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(45512);r(58009);var a=r(44098);function l({title:e,role:t,userName:r,currentPath:l}){let n=(e=>{switch(e){case"ADMIN":return[{href:"/portal/admin/dashboard",label:"Dashboard"},{href:"/portal/admin/user-management",label:"User Management"},{href:"/portal/admin/course-management",label:"Course Management"},{href:"/portal/admin/report-systems",label:"Report Systems"}];case"FACULTY":return[{href:"/portal/faculty/dashboard",label:"Dashboard"},{href:"/portal/faculty/courses",label:"My Courses"},{href:"/portal/faculty/grades",label:"Grade Management"},{href:"/portal/faculty/schedule",label:"Schedule"}];case"STUDENT":return[{href:"/portal/student/dashboard",label:"Dashboard"},{href:"/portal/student/courses",label:"My Courses"},{href:"/portal/student/grades",label:"My Grades"},{href:"/portal/student/schedule",label:"My Schedule"}];default:return[]}})(t);return(0,s.jsxs)("header",{className:"bg-white shadow-md p-4 flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-emerald-900",children:[e,(0,s.jsx)("span",{className:"ml-2 text-sm px-2 py-1 bg-emerald-100 text-emerald-600 rounded-full",children:t})]}),(0,s.jsx)("nav",{className:"flex space-x-4",children:n.map(e=>(0,s.jsx)("a",{href:e.href,className:`text-gray-700 hover:text-emerald-600 ${l===e.href?"font-bold text-emerald-600":""}`,children:e.label},e.href))}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.jNV,{className:"text-gray-600 text-xl cursor-pointer hover:text-emerald-600"}),(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),(0,s.jsx)("span",{className:"text-gray-700",children:r})]})]})}},23482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(62740),a=r(59607),l=r.n(a);function n(){return(0,s.jsx)("header",{className:"bg-gradient-to-r from-emerald-700 to-emerald-900 text-white p-4",children:(0,s.jsxs)("nav",{className:"container mx-auto flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Greenfield University"}),(0,s.jsxs)("ul",{className:"flex gap-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/",className:"hover:text-emerald-200 transition-colors",children:"Homepage"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/visit",className:"hover:text-emerald-200 transition-colors",children:"Visit"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/apply",className:"hover:text-emerald-200 transition-colors",children:"Apply"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/portal",className:"hover:text-emerald-200 transition-colors",children:"GU Portal"})})]})]})})}function i(){return(0,s.jsx)("footer",{className:"bg-gradient-to-r from-emerald-700 to-emerald-900 text-white p-6",children:(0,s.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Greenfield University. All rights reserved."]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l(),{href:"/contact",className:"hover:text-emerald-200 transition-colors",children:"Contact Us"}),(0,s.jsx)(l(),{href:"/faq",className:"hover:text-emerald-200 transition-colors",children:"FAQs"}),(0,s.jsx)(l(),{href:"/policies",className:"hover:text-emerald-200 transition-colors",children:"Policies"})]})]})})}function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-emerald-100 flex flex-col",children:[(0,s.jsx)(n,{}),(0,s.jsx)("main",{className:"flex-grow",children:e}),(0,s.jsx)(i,{})]})})}r(35692)},32214:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Launchpad\\\\Greenfield_University\\\\src\\\\app\\\\portal\\\\admin\\\\course-management\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\course-management\\page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},35692:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,767,77,98],()=>r(85916));module.exports=s})();