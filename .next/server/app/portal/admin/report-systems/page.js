(()=>{var e={};e.id=343,e.ids=[343],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},89274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(70260),a=r(28203),l=r(25155),n=r.n(l),i=r(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["portal",{children:["admin",{children:["report-systems",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49316)),"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\report-systems\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,23482)),"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\report-systems\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/portal/admin/report-systems/page",pathname:"/portal/admin/report-systems",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67077:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,59607,23))},60997:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,28531,23))},58026:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},97778:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},66341:(e,t,r)=>{Promise.resolve().then(r.bind(r,49316))},95845:(e,t,r)=>{Promise.resolve().then(r.bind(r,13552))},13552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(45512),a=r(58009),l=r.n(a),n=r(44098),i=r(89295);function o(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(""),[p,h]=(0,a.useState)("");l().useCallback(async()=>{try{let e="/api/reports",r=new URLSearchParams;d&&r.append("type",d),p&&r.append("period",p),r.toString()&&(e+=`?${r.toString()}`);let s=await fetch(e),a=await s.json();t(a)}catch(e){console.error("Failed to fetch reports:",e)}finally{o(!1)}},[d,p]);let m=async()=>{try{let e=await fetch("/api/users?role=ADMIN"),r=await e.json(),s=r[0]?.id;if(!s)throw Error("No admin user found");let a=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:`${d} Report - ${p}`,type:d,period:p,userId:s})});if(!a.ok)throw Error("Failed to generate report");let l=await a.json();t(e=>[l,...e])}catch(e){console.error("Error generating report:",e),alert("Failed to generate report")}},x=async r=>{if(confirm("Are you sure you want to delete this report?"))try{if((await fetch(`/api/reports?id=${r}`,{method:"DELETE"})).ok)t(e.filter(e=>e.id!==r));else throw Error("Failed to delete report")}catch(e){console.error("Error deleting report:",e),alert("Failed to delete report")}},u=e=>{let t=new Blob([JSON.stringify(e.data,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${e.title.toLowerCase().replace(/\s+/g,"-")}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)};return(0,s.jsxs)("div",{className:"min-h-screen bg-emerald-50",children:[(0,s.jsx)(i.A,{title:"Report Systems",role:"ADMIN",userName:"Admin User",currentPath:"/portal/admin/report-systems"}),(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,s.jsx)("option",{value:"",children:"Select Report Type"}),(0,s.jsx)("option",{value:"ENROLLMENT_SUMMARY",children:"Enrollment Summary"}),(0,s.jsx)("option",{value:"ACADEMIC_PERFORMANCE",children:"Academic Performance"}),(0,s.jsx)("option",{value:"ATTENDANCE_SUMMARY",children:"Attendance Summary"}),(0,s.jsx)("option",{value:"FACULTY_WORKLOAD",children:"Faculty Workload"}),(0,s.jsx)("option",{value:"COURSE_ANALYTICS",children:"Course Analytics"}),(0,s.jsx)("option",{value:"SYSTEM_USAGE",children:"System Usage"})]}),(0,s.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,s.jsx)("option",{value:"",children:"Select Period"}),(0,s.jsx)("option",{value:"2024-Q1",children:"2024 Q1"}),(0,s.jsx)("option",{value:"2024-Q2",children:"2024 Q2"}),(0,s.jsx)("option",{value:"2024-Q3",children:"2024 Q3"}),(0,s.jsx)("option",{value:"2024-Q4",children:"2024 Q4"})]}),(0,s.jsxs)("button",{onClick:m,disabled:!d||!p,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2 disabled:bg-gray-400",children:[(0,s.jsx)(n.OiG,{}),"Generate Report"]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r?(0,s.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading reports..."}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-emerald-600",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Report"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Period"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Generated By"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:e.type}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:e.period}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:`${e.createdBy.firstName} ${e.createdBy.lastName}`}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-slate-800",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>u(e),className:"text-blue-600 hover:text-blue-900",title:"Download Report",children:(0,s.jsx)(n.WCW,{})}),(0,s.jsx)("button",{onClick:()=>x(e.id),className:"text-red-600 hover:text-red-900",title:"Delete Report",children:(0,s.jsx)(n.qbC,{})})]})})]},e.id))})]})})})]})]})}},89295:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(45512);r(58009);var a=r(44098);function l({title:e,role:t,userName:r,currentPath:l}){let n=(e=>{switch(e){case"ADMIN":return[{href:"/portal/admin/dashboard",label:"Dashboard"},{href:"/portal/admin/user-management",label:"User Management"},{href:"/portal/admin/course-management",label:"Course Management"},{href:"/portal/admin/report-systems",label:"Report Systems"}];case"FACULTY":return[{href:"/portal/faculty/dashboard",label:"Dashboard"},{href:"/portal/faculty/courses",label:"My Courses"},{href:"/portal/faculty/grades",label:"Grade Management"},{href:"/portal/faculty/schedule",label:"Schedule"}];case"STUDENT":return[{href:"/portal/student/dashboard",label:"Dashboard"},{href:"/portal/student/courses",label:"My Courses"},{href:"/portal/student/grades",label:"My Grades"},{href:"/portal/student/schedule",label:"My Schedule"}];default:return[]}})(t);return(0,s.jsxs)("header",{className:"bg-white shadow-md p-4 flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-emerald-900",children:[e,(0,s.jsx)("span",{className:"ml-2 text-sm px-2 py-1 bg-emerald-100 text-emerald-600 rounded-full",children:t})]}),(0,s.jsx)("nav",{className:"flex space-x-4",children:n.map(e=>(0,s.jsx)("a",{href:e.href,className:`text-gray-700 hover:text-emerald-600 ${l===e.href?"font-bold text-emerald-600":""}`,children:e.label},e.href))}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.jNV,{className:"text-gray-600 text-xl cursor-pointer hover:text-emerald-600"}),(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),(0,s.jsx)("span",{className:"text-gray-700",children:r})]})]})}},23482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(62740),a=r(59607),l=r.n(a);function n(){return(0,s.jsx)("header",{className:"bg-gradient-to-r from-emerald-700 to-emerald-900 text-white p-4",children:(0,s.jsxs)("nav",{className:"container mx-auto flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Greenfield University"}),(0,s.jsxs)("ul",{className:"flex gap-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/",className:"hover:text-emerald-200 transition-colors",children:"Homepage"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/visit",className:"hover:text-emerald-200 transition-colors",children:"Visit"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/apply",className:"hover:text-emerald-200 transition-colors",children:"Apply"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/portal",className:"hover:text-emerald-200 transition-colors",children:"GU Portal"})})]})]})})}function i(){return(0,s.jsx)("footer",{className:"bg-gradient-to-r from-emerald-700 to-emerald-900 text-white p-6",children:(0,s.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Greenfield University. All rights reserved."]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l(),{href:"/contact",className:"hover:text-emerald-200 transition-colors",children:"Contact Us"}),(0,s.jsx)(l(),{href:"/faq",className:"hover:text-emerald-200 transition-colors",children:"FAQs"}),(0,s.jsx)(l(),{href:"/policies",className:"hover:text-emerald-200 transition-colors",children:"Policies"})]})]})})}function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-emerald-100 flex flex-col",children:[(0,s.jsx)(n,{}),(0,s.jsx)("main",{className:"flex-grow",children:e}),(0,s.jsx)(i,{})]})})}r(35692)},49316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Launchpad\\\\Greenfield_University\\\\src\\\\app\\\\portal\\\\admin\\\\report-systems\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Launchpad\\Greenfield_University\\src\\app\\portal\\admin\\report-systems\\page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},35692:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,767,77,98],()=>r(89274));module.exports=s})();